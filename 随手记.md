#### 2020 12 7

Linux下获取动态段地址的方法：
1，通过*getauxval(AT_PHDR)*获取到phdr地址，再解析段表，获取到.dynamic段地址
需要头文件  *#include <sys/auxv.h>*
此方式的原理是读取 */proc/[pid]/auxv* 文件，更多详情：

> man getauxval : [https://man7.org/linux/man-pages/man3/getauxval.3.html]( https://man7.org/linux/man-pages/man3/getauxval.3.html)
> man proc : [https://linux.die.net/man/5/proc](https://linux.die.net/man/5/proc)

按照此原理，我们也能获取到其他程序的相关结构，前提是要知道pid

2,通过*_DYNAMIC*全局变量直接获取
需要头文件  *#include<link.h>*
此方式的原理为链接器在链接时使用此变量，但使用完之后没有清理，因此使用此方法获取的地址可能不是主程序的相关结构，
而是正在链接的动态库的相关地址

> ps:通过动态段的内容还能获取到link_map等其他重要的程序动态链接相关数据结构
>